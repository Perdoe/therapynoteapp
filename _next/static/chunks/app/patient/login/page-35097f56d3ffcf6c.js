(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var a=r(2596),o=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.QP)((0,a.$)(t))}},4441:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(5155),o=r(2115),i=r(5695),s=r(6413),n=r(9852),l=r(7168),c=r(6874),g=r.n(c),d=r(7550),u=r(7853);function p(){let e=(0,i.useRouter)(),[t,r]=(0,o.useState)(""),[c,p]=(0,o.useState)(""),[h,m]=(0,o.useState)(""),[f,v]=(0,o.useState)(!1);(0,o.useEffect)(()=>{u.V.initializeStorage()},[]);let b=async r=>{r.preventDefault(),m(""),v(!0),console.log("Patient Login - Attempting with:",{patientId:t,password:c});try{let r=u.V.getPatient(t);r&&"Patient123!"===c?(console.log("Patient login successful:",r),localStorage.setItem("currentPatientId",t),e.push("/patient")):(console.log("Patient login failed - Invalid credentials"),m("Invalid credentials. Please try again."))}catch(e){console.error("Login error:",e),m("An error occurred during login. Please try again.")}finally{v(!1)}};return(0,a.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-[10%] left-[15%] w-[40vw] h-[40vw] bg-[#FFB5D0] organic-shape-2 floating-slow opacity-70"}),(0,a.jsx)("div",{className:"absolute bottom-[20%] right-[10%] w-[35vw] h-[35vw] bg-[#B4F0E0] organic-shape floating opacity-70"}),(0,a.jsx)("div",{className:"absolute top-[40%] right-[20%] w-[25vw] h-[25vw] bg-[#D8B4F0] organic-shape-3 floating-fast opacity-70"}),(0,a.jsx)("div",{className:"absolute bottom-[10%] left-[25%] w-[30vw] h-[30vw] bg-[#F0B4D8] organic-shape floating opacity-70"})]}),(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)(g(),{href:"/",className:"inline-flex items-center text-[#333] hover:text-[#555] transition-colors mb-8",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 mr-2"}),"Back to Home"]}),(0,a.jsxs)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-handwritten text-center mb-6 text-[#333]",children:"Patient Login"}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"patientId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient ID"}),(0,a.jsx)(n.p,{id:"patientId",type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Enter your patient ID",required:!0,className:"w-full bg-white/70 backdrop-blur-sm border-0 focus:ring-2 focus:ring-[#D8B4F0]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,a.jsx)(n.p,{id:"password",type:"password",value:c,onChange:e=>p(e.target.value),placeholder:"Enter your password",required:!0,className:"w-full bg-white/70 backdrop-blur-sm border-0 focus:ring-2 focus:ring-[#D8B4F0]"})]}),h&&(0,a.jsx)(s.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded-lg",children:h}),(0,a.jsx)(l.$,{type:"submit",className:"w-full bg-[#D8B4F0] hover:bg-[#D8B4F0]/90 text-white transition-all duration-200 transform hover:scale-[1.02]",disabled:f,children:f?"Signing in...":"Sign In"})]}),!1]})]})]})}},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var a=r(5155),o=r(2115),i=r(9708),s=r(2085),n=r(3999);let l=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,t)=>{let{className:r,variant:o,size:s,asChild:c=!1,...g}=e,d=c?i.DX:"button";return(0,a.jsx)(d,{className:(0,n.cn)(l({variant:o,size:s,className:r})),ref:t,...g})});c.displayName="Button"},7550:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7853:(e,t,r)=>{"use strict";r.d(t,{V:()=>a});let a={saveTherapist:e=>{console.log("DevStorage - Saving therapist:",e);try{let t={};try{t=JSON.parse(localStorage.getItem("therapists")||"{}")}catch(e){console.error("DevStorage - Error parsing existing therapists:",e)}t[e.therapist_id]=[e],localStorage.setItem("therapists",JSON.stringify(t));let r=localStorage.getItem("therapists");return console.log("DevStorage - Stored therapists after save:",r),!0}catch(e){return console.error("DevStorage - Error saving therapist:",e),!1}},getTherapist:e=>{console.log("DevStorage - Getting therapist with ID:",e);try{var t;let r=JSON.parse(localStorage.getItem("therapists")||"{}");console.log("DevStorage - All stored therapists:",r);let a=null==(t=r[e])?void 0:t[0];return console.log("DevStorage - Found therapist:",a),a}catch(e){return console.error("DevStorage - Error getting therapist:",e),null}},getPatientsByTherapist:e=>{console.log("DevStorage - Getting patients for therapist:",e);try{return JSON.parse(localStorage.getItem("patients")||"{}")[e]||[]}catch(e){return console.error("DevStorage - Error getting patients:",e),[]}},getPatient:e=>{console.log("DevStorage - Getting patient with ID:",e);try{let t=JSON.parse(localStorage.getItem("patients")||"{}");for(let r in t){let a=t[r].find(t=>t.patient_id===e);if(a)return console.log("DevStorage - Found patient:",a),a}return console.log("DevStorage - No patient found with ID:",e),null}catch(e){return console.error("DevStorage - Error getting patient:",e),null}},initDummyTherapist:()=>{console.log("DevStorage - Initializing dummy therapist");try{let e=JSON.parse(localStorage.getItem("therapists")||"{}");e["101"]?console.log("DevStorage - Dummy therapist already exists:",e["101"]):(e["101"]=[{therapist_id:"101",first_name:"Default",last_name:"Therapist",password:"therapy123",created_at:new Date().toISOString()}],localStorage.setItem("therapists",JSON.stringify(e)),console.log("DevStorage - Dummy therapist initialized:",e["101"]))}catch(e){console.error("DevStorage - Error initializing dummy therapist:",e)}},initializeStorage:()=>{console.log("DevStorage - Initializing sample data"),a.initDummyTherapist();let e=[{patient_id:"1745013352290",first_name:"Sarah",last_name:"Johnson",age:28,pronouns:"She/Her",therapist_id:"101",created_at:new Date().toISOString()},{patient_id:"1745013352291",first_name:"Michael",last_name:"Brown",age:35,pronouns:"He/Him",therapist_id:"101",created_at:new Date().toISOString()}];try{if(!localStorage.getItem("patients")){let t={};t["101"]=e,localStorage.setItem("patients",JSON.stringify(t)),console.log("DevStorage - Initialized patients:",t)}}catch(e){console.error("DevStorage - Error initializing sample data:",e)}},clearStorage:()=>{localStorage.removeItem("therapists"),localStorage.removeItem("patients"),localStorage.removeItem("currentTherapistId"),localStorage.removeItem("currentPatientId"),console.log("DevStorage - Cleared all storage")}}},9360:(e,t,r)=>{Promise.resolve().then(r.bind(r,4441))},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var a=r(5155),o=r(2115),i=r(3999);let s=o.forwardRef((e,t)=>{let{className:r,type:o,...s}=e;return(0,a.jsx)("input",{type:o,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});s.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[496,817,441,684,358],()=>t(9360)),_N_E=e.O()}]);