(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{5432:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>eR});var t=a(5155),r=a(2115),n=a(3999);let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});m.displayName="CardFooter";var x=a(704);let h=x.bL,u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(x.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});u.displayName=x.B8.displayName;let p=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(x.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});p.displayName=x.l9.displayName;let f=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(x.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});f.displayName=x.UC.displayName;var j=a(2085);let g=(0,j.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function v(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,n.cn)(g({variant:a}),s),...r})}var N=a(5695),b=a(5977);let y=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(b.bL,{ref:s,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});y.displayName=b.bL.displayName;let w=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(b._V,{ref:s,className:(0,n.cn)("aspect-square h-full w-full",a),...r})});w.displayName=b._V.displayName;let S=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(b.H4,{ref:s,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});S.displayName=b.H4.displayName;var C=a(8698),A=a(3052),k=a(5196),T=a(9428);let R=C.bL,_=C.l9;C.YJ,C.ZL,C.Pb,C.z6,r.forwardRef((e,s)=>{let{className:a,inset:r,children:l,...i}=e;return(0,t.jsxs)(C.ZP,{ref:s,className:(0,n.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...i,children:[l,(0,t.jsx)(A.A,{className:"ml-auto"})]})}).displayName=C.ZP.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(C.G5,{ref:s,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=C.G5.displayName;let I=r.forwardRef((e,s)=>{let{className:a,sideOffset:r=4,...l}=e;return(0,t.jsx)(C.ZL,{children:(0,t.jsx)(C.UC,{ref:s,sideOffset:r,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});I.displayName=C.UC.displayName;let E=r.forwardRef((e,s)=>{let{className:a,inset:r,...l}=e;return(0,t.jsx)(C.q7,{ref:s,className:(0,n.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...l})});E.displayName=C.q7.displayName,r.forwardRef((e,s)=>{let{className:a,children:r,checked:l,...i}=e;return(0,t.jsxs)(C.H_,{ref:s,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(C.VF,{children:(0,t.jsx)(k.A,{className:"h-4 w-4"})})}),r]})}).displayName=C.H_.displayName,r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(C.hN,{ref:s,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(C.VF,{children:(0,t.jsx)(T.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=C.hN.displayName;let z=r.forwardRef((e,s)=>{let{className:a,inset:r,...l}=e;return(0,t.jsx)(C.JU,{ref:s,className:(0,n.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...l})});z.displayName=C.JU.displayName;let D=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(C.wv,{ref:s,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});D.displayName=C.wv.displayName;var O=a(4835),F=a(4860),$=a(6874),M=a.n($);function P(e){let{therapist:s}=e,[a,n]=(0,r.useState)(!1),l=(0,N.useRouter)(),{logout:i}=(0,F.Q)();return(0,t.jsx)("header",{className:"bg-white shadow",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(M(),{href:"/",className:"mr-6",children:(0,t.jsx)("h2",{className:"text-2xl font-handwritten text-[#D8B4F0]",children:"Sanare"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-xl font-medium text-gray-900",children:["Welcome, ",s.firstName," ",s.lastName]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Therapist ID: ",s.id]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[!1,(0,t.jsxs)(R,{children:[(0,t.jsx)(_,{asChild:!0,children:(0,t.jsx)(y,{className:"h-10 w-10 cursor-pointer",children:(0,t.jsx)(S,{className:"bg-[#D8B4F0] text-white",children:"".concat(s.firstName[0]).concat(s.lastName[0]).toUpperCase()})})}),(0,t.jsxs)(I,{align:"end",children:[(0,t.jsx)(z,{children:"My Account"}),(0,t.jsx)(D,{}),(0,t.jsx)(E,{children:"Profile"}),(0,t.jsx)(E,{children:"Settings"}),(0,t.jsx)(D,{}),(0,t.jsxs)(E,{onClick:()=>{i(),l.push("/therapist/login")},children:[(0,t.jsx)(O.A,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})]})})})}var L=a(7168),V=a(9051);let J=r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(V.bL,{ref:s,className:(0,n.cn)("relative overflow-hidden",a),...l,children:[(0,t.jsx)(V.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(U,{}),(0,t.jsx)(V.OK,{})]})});J.displayName=V.bL.displayName;let U=r.forwardRef((e,s)=>{let{className:a,orientation:r="vertical",...l}=e;return(0,t.jsx)(V.VM,{ref:s,orientation:r,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,t.jsx)(V.lr,{className:"relative flex-1 rounded-full bg-border"})})});U.displayName=V.VM.displayName;var H=a(3717),Z=a(2525),B=a(7863),W=a(6474),G=a(1497),q=a(9074),Q=a(8106);let K=Q.bL,Y=Q.R6,X=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(Q.Ke,{ref:s,className:a,...r})});X.displayName="CollapsibleContent";let ee=0,es=new Map,ea=e=>{if(es.has(e))return;let s=setTimeout(()=>{es.delete(e),el({type:"REMOVE_TOAST",toastId:e})},1e6);es.set(e,s)},et=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=s;return a?ea(a):e.toasts.forEach(e=>{ea(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},er=[],en={toasts:[]};function el(e){en=et(en,e),er.forEach(e=>{e(en)})}function ei(e){let{...s}=e,a=(ee=(ee+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>el({type:"DISMISS_TOAST",toastId:a});return el({type:"ADD_TOAST",toast:{...s,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>el({type:"UPDATE_TOAST",toast:{...e,id:a}})}}var ed=a(9852),eo=a(968);let ec=(0,j.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),em=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eo.b,{ref:s,className:(0,n.cn)(ec(),a),...r})});em.displayName=eo.b.displayName;var ex=a(9840);function eh(e){let{isOpen:s,onClose:a,patientId:n,currentFirstName:l,currentLastName:i,onNameUpdated:d}=e,{toast:o}=function(){let[e,s]=r.useState(en);return r.useEffect(()=>(er.push(s),()=>{let e=er.indexOf(s);e>-1&&er.splice(e,1)}),[e]),{...e,toast:ei,dismiss:e=>el({type:"DISMISS_TOAST",toastId:e})}}(),[c,m]=(0,r.useState)(l),[x,h]=(0,r.useState)(i),[u,p]=(0,r.useState)(!1),f=async e=>{if(e.preventDefault(),!c.trim()||!x.trim())return void o({title:"Error",description:"Please enter both first and last name",variant:"destructive"});p(!0);try{if(!(await fetch("/api/patients/".concat(n),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:c.trim(),last_name:x.trim()})})).ok)throw Error("Failed to update patient name");d(c.trim(),x.trim()),o({title:"Success",description:"Patient name updated successfully"}),a()}catch(e){o({title:"Error",description:"Failed to update patient name. Please try again.",variant:"destructive"})}finally{p(!1)}};return(0,t.jsx)(ex.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(ex.Cf,{children:[(0,t.jsx)(ex.c7,{children:(0,t.jsx)(ex.L3,{children:"Edit Patient Name"})}),(0,t.jsxs)("form",{onSubmit:f,children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(em,{htmlFor:"firstName",children:"First Name"}),(0,t.jsx)(ed.p,{id:"firstName",value:c,onChange:e=>m(e.target.value),placeholder:"Enter first name",disabled:u})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(em,{htmlFor:"lastName",children:"Last Name"}),(0,t.jsx)(ed.p,{id:"lastName",value:x,onChange:e=>h(e.target.value),placeholder:"Enter last name",disabled:u})]})]}),(0,t.jsxs)(ex.Es,{children:[(0,t.jsx)(L.$,{variant:"outline",onClick:a,disabled:u,children:"Cancel"}),(0,t.jsx)(L.$,{type:"submit",disabled:u,children:u?"Saving...":"Save Changes"})]})]})]})})}var eu=a(7499),ep=a(1886);function ef(e){let{patientId:s,firstName:a,lastName:n,age:x,pronouns:j,onPatientDeleted:g}=e,[b,C]=(0,r.useState)(!1),[A,k]=(0,r.useState)(!1),[T,R]=(0,r.useState)(!1),[_,I]=(0,r.useState)(!1),[E,z]=(0,r.useState)(a),[D,O]=(0,r.useState)(n),F=(0,N.useRouter)(),$=async()=>{try{I(!0),await (0,ep.Dk)(s),R(!1),g&&g(),F.push("/")}catch(e){console.error("Error deleting patient:",e)}finally{I(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l,{className:"shadow-md border-0 transition-all duration-300 hover:shadow-lg",children:[(0,t.jsx)(i,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(y,{className:"h-12 w-12",children:[(0,t.jsx)(w,{src:"/placeholder.svg?height=48&width=48",alt:"".concat(E," ").concat(D)}),(0,t.jsx)(S,{children:"".concat(E[0]).concat(D[0])})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d,{className:"text-xl font-serif",children:"".concat(E," ").concat(D)}),(0,t.jsx)(o,{children:x&&j?"".concat(x," • ").concat(j):x?"".concat(x):j||""})]})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsxs)(L.$,{variant:"ghost",size:"icon",className:"rounded-full transition-all duration-200 hover:bg-secondary/10 hover:text-secondary",onClick:()=>k(!0),children:[(0,t.jsx)(H.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Edit"})]}),(0,t.jsxs)(L.$,{variant:"ghost",size:"icon",className:"rounded-full transition-all duration-200 hover:bg-destructive/10 hover:text-destructive",onClick:()=>R(!0),children:[(0,t.jsx)(Z.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Delete"})]})]})]})}),(0,t.jsx)(c,{children:(0,t.jsxs)(K,{open:b,onOpenChange:C,children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[(0,t.jsx)(v,{className:"bg-primary hover:bg-primary/90",children:"Anxiety"}),(0,t.jsx)(v,{className:"bg-secondary hover:bg-secondary/90",children:"Depression"}),(0,t.jsx)(v,{variant:"outline",children:"Work Stress"})]}),(0,t.jsx)(X,{className:"space-y-4 animate-accordion-down",children:(0,t.jsxs)(h,{defaultValue:"overview",children:[(0,t.jsxs)(u,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(p,{value:"overview",children:"Overview"}),(0,t.jsx)(p,{value:"history",children:"History"}),(0,t.jsx)(p,{value:"goals",children:"Goals"})]}),(0,t.jsxs)(f,{value:"overview",className:"space-y-4 pt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Treatment"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"CBT, Mindfulness, Weekly Sessions"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Medication"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sertraline 50mg daily (Dr. Roberts)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Emergency Contact"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Michael Johnson (Brother) - (555) 123-4567"})]})]}),(0,t.jsx)(f,{value:"history",className:"pt-4",children:(0,t.jsx)(J,{className:"h-[150px] pr-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Initial Assessment (Jan 15, 2024)"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Anxiety and depression following job loss. Difficulty sleeping, reduced appetite."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Previous Therapy"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Brief counseling in 2021 (6 sessions). Discontinued due to insurance changes."})]})]})})}),(0,t.jsx)(f,{value:"goals",className:"pt-4",children:(0,t.jsx)(J,{className:"h-[150px] pr-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Develop coping strategies"}),(0,t.jsx)(v,{className:"bg-sage hover:bg-sage/90",children:"70%"})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Improve work-life boundaries"}),(0,t.jsx)(v,{className:"bg-accent hover:bg-accent/90",children:"40%"})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Reduce negative self-talk"}),(0,t.jsx)(v,{className:"bg-sage hover:bg-sage/90",children:"55%"})]})})]})})})]})}),(0,t.jsx)(Y,{asChild:!0,children:(0,t.jsx)(L.$,{variant:"ghost",size:"sm",className:"w-full mt-2 flex items-center justify-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors",children:b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(B.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:"Show less"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(W.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:"Show more"})]})})})]})}),(0,t.jsxs)(m,{className:"flex justify-between pt-0",children:[(0,t.jsxs)(L.$,{variant:"outline",size:"sm",className:"button-expand transition-all duration-200 hover:bg-primary/5",children:[(0,t.jsx)(G.A,{className:"h-4 w-4 mr-1"}),"Message"]}),(0,t.jsxs)(L.$,{variant:"outline",size:"sm",className:"button-expand transition-all duration-200 hover:bg-primary/5",children:[(0,t.jsx)(q.A,{className:"h-4 w-4 mr-1"}),"Schedule"]})]})]}),(0,t.jsx)(eh,{isOpen:A,onClose:()=>k(!1),patientId:s,currentFirstName:E,currentLastName:D,onNameUpdated:(e,s)=>{z(e),O(s)}}),(0,t.jsx)(eu.R,{isOpen:T,onClose:()=>R(!1),title:"Delete Patient",message:"Are you sure you want to delete ".concat(E," ").concat(D,"? This action cannot be undone."),confirmText:_?"Deleting...":"Delete",onConfirm:$,onCancel:()=>R(!1)})]})}function ej(){let[e,s]=(0,r.useState)(!1),a=[{date:"Apr 28",title:"Session",description:"Weekly therapy session",badge:{text:"Completed",variant:"primary"}},{date:"Apr 21",title:"Session",description:"Weekly therapy session",badge:{text:"Completed",variant:"primary"}},{date:"Apr 18",title:"Journal",description:"Increased anxiety at work",badge:{text:"Important",variant:"secondary"}},{date:"Apr 14",title:"Session",description:"Weekly therapy session",badge:{text:"Completed",variant:"primary"}},{date:"Apr 10",title:"Medication",description:"Increased Sertraline to 50mg",badge:{text:"Medical",variant:"accent"}},{date:"Apr 7",title:"Session",description:"Weekly therapy session",badge:{text:"Completed",variant:"primary"}}],n=e?a:a.slice(0,3);return(0,t.jsxs)(l,{className:"shadow-md border-0 transition-all duration-300 hover:shadow-lg",children:[(0,t.jsx)(i,{className:"pb-2",children:(0,t.jsx)(d,{className:"text-lg font-serif",children:"Timeline"})}),(0,t.jsx)(c,{className:"p-0",children:(0,t.jsxs)(K,{open:e,onOpenChange:s,children:[(0,t.jsx)(J,{className:e?"h-[300px]":"h-auto max-h-[180px]",children:(0,t.jsxs)("div",{className:"relative pl-6 pr-4 py-4",children:[(0,t.jsx)("div",{className:"absolute top-0 bottom-0 left-[22px] w-[2px] bg-border"}),(0,t.jsx)("div",{className:"space-y-4",children:n.map((e,s)=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-[-14px] top-1 h-3 w-3 rounded-full border-2 border-background transition-colors duration-300 ".concat("primary"===e.badge.variant?"bg-primary":"secondary"===e.badge.variant?"bg-secondary":"bg-accent")}),(0,t.jsx)("div",{className:"mb-1 text-xs text-muted-foreground",children:e.date}),(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]}),(0,t.jsx)(v,{className:"\n                        ".concat("primary"===e.badge.variant?"bg-primary hover:bg-primary/90":"secondary"===e.badge.variant?"bg-secondary hover:bg-secondary/90":"bg-accent hover:bg-accent/90","\n                      "),children:e.badge.text})]})]},s))})]})}),(0,t.jsx)(X,{className:"animate-accordion-down"}),(0,t.jsx)(Y,{asChild:!0,children:(0,t.jsx)(L.$,{variant:"ghost",size:"sm",className:"w-full flex items-center justify-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors",children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(B.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:"Show less"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(W.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:"Show more"})]})})})]})})]})}let eg=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...r})});eg.displayName="Textarea";var ev=a(7777),eN=a(142),eb=a(7434),ey=a(5339),ew=a(463),eS=a(9588),eC=a(690),eA=a(9103);function ek(){let[e,s]=(0,r.useState)([{type:"therapist",content:"Client arrived on time, appeared slightly anxious. Mentioned trouble sleeping this past week due to work stress."},{type:"client",content:"I've been having a hard time at work. My new manager has been putting a lot of pressure on me, and I feel like I can't meet his expectations."},{type:"therapist",content:"We discussed workplace boundaries and strategies for communicating with manager about workload."}]),[a,n]=(0,r.useState)(""),[l,i]=(0,r.useState)(!1),d=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(d.current){let e=d.current.querySelector("[data-radix-scroll-area-viewport]");e&&(e.scrollTop=e.scrollHeight)}},[e]);let o=t=>{a.trim()&&(s([...e,{type:t,content:a}]),n(""))};return(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)(J,{ref:d,className:"flex-1 pr-4 mb-4",children:(0,t.jsx)("div",{className:"space-y-4",children:e.map((e,s)=>(0,t.jsxs)("div",{className:"p-3 rounded-lg flex gap-3 transition-all duration-300 animate-in fade-in slide-in-from-bottom-5 ".concat("therapist"===e.type?"bg-secondary/5 ml-0 mr-12":"bg-primary/5 ml-12 mr-0"),children:["therapist"===e.type?(0,t.jsxs)(y,{className:"h-6 w-6 mt-0.5 flex-shrink-0",children:[(0,t.jsx)(w,{src:"/placeholder.svg?height=24&width=24",alt:"Dr. Emily Chen"}),(0,t.jsx)(S,{className:"text-[10px]",children:"EC"})]}):(0,t.jsxs)(y,{className:"h-6 w-6 mt-0.5 flex-shrink-0 ml-auto order-2",children:[(0,t.jsx)(w,{src:"/placeholder.svg?height=24&width=24",alt:"Sarah Johnson"}),(0,t.jsx)(S,{className:"text-[10px]",children:"SJ"})]}),(0,t.jsx)("p",{className:"text-sm ".concat("client"===e.type?"order-1":""),children:e.content})]},s))})}),(0,t.jsx)("div",{className:"border rounded-lg p-2 bg-card transition-all duration-300 hover:shadow-md",children:(0,t.jsxs)(h,{defaultValue:"therapist",children:[(0,t.jsxs)(u,{className:"grid w-full grid-cols-2 mb-2",children:[(0,t.jsx)(p,{value:"therapist",className:"transition-all duration-200",children:"Therapist Note"}),(0,t.jsx)(p,{value:"client",className:"transition-all duration-200",children:"Client Statement"})]}),(0,t.jsxs)("div",{className:"space-y-2 relative",children:[(0,t.jsx)(eg,{placeholder:"Type your notes here...",className:"min-h-[100px] resize-none focus-visible:ring-primary transition-all duration-200",value:a,onChange:e=>n(e.target.value)}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(ev.Bc,{delayDuration:300,children:(0,t.jsxs)("div",{className:"flex items-center gap-1 border rounded-md p-1 bg-card",children:[(0,t.jsxs)(ev.m_,{children:[(0,t.jsx)(ev.k$,{asChild:!0,children:(0,t.jsx)(L.$,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-sm transition-all duration-200 hover:bg-secondary/10",children:(0,t.jsx)(eN.A,{className:"h-4 w-4"})})}),(0,t.jsx)(ev.ZI,{children:(0,t.jsx)("p",{children:"Interventions"})})]}),(0,t.jsxs)(ev.m_,{children:[(0,t.jsx)(ev.k$,{asChild:!0,children:(0,t.jsx)(L.$,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-sm transition-all duration-200 hover:bg-secondary/10",children:(0,t.jsx)(eb.A,{className:"h-4 w-4"})})}),(0,t.jsx)(ev.ZI,{children:(0,t.jsx)("p",{children:"Templates"})})]}),(0,t.jsxs)(ev.m_,{children:[(0,t.jsx)(ev.k$,{asChild:!0,children:(0,t.jsx)(L.$,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-sm transition-all duration-200 hover:bg-secondary/10",children:(0,t.jsx)(ey.A,{className:"h-4 w-4"})})}),(0,t.jsx)(ev.ZI,{children:(0,t.jsx)("p",{children:"Assessment"})})]}),(0,t.jsxs)(ev.m_,{children:[(0,t.jsx)(ev.k$,{asChild:!0,children:(0,t.jsx)(L.$,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-sm transition-all duration-200 hover:bg-secondary/10",children:(0,t.jsx)(ew.A,{className:"h-4 w-4"})})}),(0,t.jsx)(ev.ZI,{children:(0,t.jsx)("p",{children:"Insights"})})]}),(0,t.jsxs)(ev.m_,{children:[(0,t.jsx)(ev.k$,{asChild:!0,children:(0,t.jsx)(L.$,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-sm transition-all duration-200 ".concat(l?"bg-primary/10 text-primary animate-pulse":"hover:bg-secondary/10"),onClick:()=>{if(i(!l),!l){let e=setTimeout(()=>{n(a+" Client expressed concerns about upcoming performance review."),i(!1)},3e3);return()=>clearTimeout(e)}},children:(0,t.jsx)(eS.A,{className:"h-4 w-4"})})}),(0,t.jsx)(ev.ZI,{children:(0,t.jsx)("p",{children:l?"Stop recording":"Voice to text"})})]})]})}),(0,t.jsxs)(L.$,{variant:"outline",size:"sm",className:"h-9 transition-all duration-200 hover:bg-sage/10",children:[(0,t.jsx)(eC.A,{className:"h-3.5 w-3.5 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Quick Insights"})]})]}),(0,t.jsx)(f,{value:"therapist",className:"m-0",children:(0,t.jsxs)(L.$,{className:"button-expand bg-secondary hover:bg-secondary/90 transition-all duration-200",onClick:()=>o("therapist"),children:[(0,t.jsx)(eA.A,{className:"h-4 w-4 mr-1"}),"Add Note"]})}),(0,t.jsx)(f,{value:"client",className:"m-0",children:(0,t.jsxs)(L.$,{className:"button-expand bg-primary hover:bg-primary/90 transition-all duration-200",onClick:()=>o("client"),children:[(0,t.jsx)(eA.A,{className:"h-4 w-4 mr-1"}),"Add Statement"]})})]})]})]})})]})}var eT=a(4186);function eR(){let[e,s]=(0,r.useState)(24),{therapist:a,isLoading:n}=(0,F.Q)(),i=(0,N.useRouter)();return((0,r.useEffect)(()=>{n||a||i.push("/therapist/login")},[n,a,i]),(0,r.useEffect)(()=>{let e=setInterval(()=>{s(e=>e+1)},6e4);return()=>clearInterval(e)},[]),n)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):a?(0,t.jsxs)("div",{className:"min-h-screen flex flex-col bg-[#F4F1DE] relative overflow-hidden",children:[[{top:"15%",left:"5%",size:"w-32 h-32",delay:"0s"},{top:"60%",right:"8%",size:"w-24 h-24",delay:"0.5s"},{top:"80%",left:"15%",size:"w-20 h-20",delay:"1s"}].map((e,s)=>(0,t.jsx)("div",{className:"absolute organic-shape bg-primary/5 -z-10 animate-float ".concat(e.size),style:{top:e.top,left:e.left,right:e.right,animationDelay:e.delay}},s)),(0,t.jsx)(P,{therapist:a}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col lg:flex-row p-4 gap-4 overflow-hidden",children:[(0,t.jsx)("div",{className:"flex-1 flex flex-col gap-4 min-w-0",children:(0,t.jsx)(l,{className:"flex-1 shadow-md overflow-hidden border-0 transition-all duration-300 hover:shadow-lg",children:(0,t.jsx)(c,{className:"p-0 h-full flex flex-col",children:(0,t.jsxs)(h,{defaultValue:"session",className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"px-6 pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-serif font-semibold text-secondary",children:"Session Notes"}),(0,t.jsxs)(u,{className:"grid grid-cols-3 w-[400px]",children:[(0,t.jsx)(p,{value:"session",className:"transition-all duration-200",children:"Current"}),(0,t.jsx)(p,{value:"previous",className:"transition-all duration-200",children:"Previous"}),(0,t.jsx)(p,{value:"templates",className:"transition-all duration-200",children:"Templates"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(v,{className:"bg-primary hover:bg-primary/90",children:"In Progress"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(eT.A,{className:"h-3.5 w-3.5"}),e," min"]})]})]}),(0,t.jsx)(f,{value:"session",className:"flex-1 px-6 pb-6 overflow-hidden flex flex-col",children:(0,t.jsx)(ek,{})}),(0,t.jsx)(f,{value:"previous",className:"flex-1 px-6 pb-6 overflow-auto",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Previous Session Notes"}),(0,t.jsx)("p",{children:"Previous session notes will appear here."})]})}),(0,t.jsx)(f,{value:"templates",className:"flex-1 px-6 pb-6 overflow-auto",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Note Templates"}),(0,t.jsx)("p",{children:"Your saved templates will appear here."})]})})]})})})}),(0,t.jsxs)("div",{className:"w-full lg:w-[350px] flex flex-col gap-4",children:[(0,t.jsx)(ef,{patientId:"1744937295964",firstName:"Sarah",lastName:"Johnson",age:28,pronouns:"She/Her"}),(0,t.jsx)(ej,{})]})]})]}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"No therapist found"})}},6879:(e,s,a)=>{Promise.resolve().then(a.bind(a,5432))}},e=>{var s=s=>e(e.s=s);e.O(0,[496,817,371,254,679,441,684,358],()=>s(6879)),_N_E=e.O()}]);